{ pkgs, lib, config, ... }: {

  options = {
    home.kanshi.enable = lib.mkEnableOption "Enables Kanshi monitor handling";
  };

  config = lib.mkIf config.home.kanshi.enable {
      services.kanshi = {
	enable = true;
	systemdTarget = "hyprland-session.target";


	profiles = {
	  undocked = {
	    outputs = [
	      {
		criteria = "eDP-1";
		scale = 1.25;
		status = "enable";
	      }
	    ];
	  };

	office1 = {
	    outputs = [
	      {
		criteria = "GIGA-BYTE TECHNOLOGY CO., LTD. Gigabyte M32U 21351B000087";
		position = "3840,0";
		mode = "3840x2160@240Hz";
	      }
	     #{
	     #  criteria = "Dell Inc. DELL G3223Q 82X70P3";
	     #  position = "0,0";
	     #  mode = "3840x2160@60Hz";
	     #}
	      {
		criteria = "eDP-1";
		status = "disable";
	      }
	    ];
	  };
	};
      };

  };

}
